[General]
network = Exercise7
description = "Communication Network Evaluation"

sim-time-limit = ${timelimit= 10000}s
repeat = 1

# Measurement Settings
**.channel.throughput.result-recording-modes = +last,+timeavg
**.channel.queueLength.result-recording-modes = +last,+timeavg
**.vector-recording = false
cmdenv-interactive = true

# TCP Settings
**.tcp.typename = "Tcp"
**.tcpAlgorithmClass = "TcpNewReno"
**.tcp.mss = 1000 # MTU - IP header - TCP header = 1040B - 20B - 20B = 1000B
**.tcp.advertisedWindow = 100 * this.mss  #upper bounded at max CWND for 100 packets
**.tcp.windowScalingSupport = true # enabled since advertisedWindow > DEFINE_MAX

# General User Settings
**.user[*].numApps = 1 # number of applications on the user
**.user[*].app[*].typename = "TcpBasicClientApp" # Internet acces application type
**.user[*].app[0].connectAddress = "server" # destination address
**.user[*].app[0].connectPort = 10021 # destination port, default is 1000
**.user[*].app[0].replyLength = 1B * int(exponential(150000))
**.user[*].app[0].idleInterval = exponential(30s)
**.user[*].app[0].thinkTime = 0

# General Server Settings
**.server.numApps = 1 # number of applications on the server
**.server.app[0].typename="TcpGenericServerApp" # Server application type
**.server.app[0].localPort = 10021 # TCP server listen port, default is 1000

# Router Settings
**.ppp[*].ppp.queue.typename = "DropTailQueue"
**.ppp[*].ppp.queue.packetCapacity = 40  # packet maximum capacity buffer


[Config ISDN_with_VoIP]
**.dataRate = 64 kbps
# consider adding a repeat value > 1

# User Settings for Internet access + VoIP services
**.user[0..1].numApps = 1 # number of applications for user[0..1]
**.user[2..24].numApps = 1 # number of applications for user[2..24]

# User VoIPApp Settings
**.user[0..1].app[0].typename = "VoIPApp" # VoIP custom application type
**.user[0..1].app[0].destAddresses = "user[0] user[1]"
**.user[0..1].app[0].destPort = 100 # destination port
**.user[0..1].app[0].localPort = 100 # listen port
**.user[0..1].app[0].messageLength = 32+(20+8+12) #32B of payload + IP|UDP|RTP protocol headers
**.user[0..1].app[0].acceptableDelay = 200ms # max acceptable â€œend-to-endâ€� delay in VoIP application
**.user[0..1].app[0].sendInterval = 0.02s # 50pps rate; sends a packet every 0.02s

# User TCP Settings
**.user[2..24].app[0].typename = "TcpBasicClientApp" # Internet acces application type

**.user[2..24].app[0].connectAddress = "server" # destination address
**.user[2..24].app[0].connectPort = 10021 # destination port, default is 1000
**.user[2..24].app[0].replyLength = 1B * int(exponential(150000)) # size of downloaded file
**.user[2..24].app[0].idleInterval = exponential(30s) # pause time between sessions
**.user[2..24].app[0].thinkTime = 0 # set to zero because only one request per session


#**.user[0..24].app[0].typename = "VoIPApp"
#**.user[0..24].app[0].destAddresses = "user[0] user[1] user[2] user[3] user[4] user[5] user[6] user[7] user[8] user[9] user[10] user[11] user[12] user[13] user[14] user[15] user[16] user[17] user[18] user[19] user[20] user[21] user[22] user[23] user[24]"
#**.user[0..24].app[0].destPort = 100
#**.user[0..24].app[0].messageLength = 32B

#**.user[0].app[0].destAddresses = "user[0] user[1] user[2] user[3] user[4] user[5] user[6] user[7] user[8] user[9] user[10] user[11] user[12] user[13] user[14] user[15] user[16] user[17] user[18] user[19] user[20] user[21] user[22] user[23] user[24]"

[Config ISDN01]
**.dataRate = 64 kbps
**.numUsers = 25 
**.numBBrouter = 1
**.numArouters = 5
repeat = 10

[Config ISDN02]
**.dataRate = 64 kbps
**.numUsers = 125 
**.numBBrouter = 1
**.numArouters = 5
repeat = 10

[Config ISDN03]
**.dataRate = 64 kbps
**.numUsers = 25 
**.numBBrouter = 5
**.numArouters = 25
repeat = 10

[Config ISDN04]
**.dataRate = 64 kbps
**.numUsers = 125 
**.numBBrouter = 5
**.numArouters = 25
repeat = 10

[Config ISDN05]
**.dataRate = 64 kbps
**.numUsers = 625 
**.numBBrouter = 5
**.numArouters = 25
repeat = 10

[Config ISDN06]
**.dataRate = 64 kbps
**.numUsers = 25 
**.numBBrouter = 1
**.numArouters = 5
repeat = 30

[Config ISDN07]
**.dataRate = 64 kbps
**.numUsers = 125 
**.numBBrouter = 1
**.numArouters = 5
repeat = 30

[Config ISDN08]
**.dataRate = 64 kbps
**.numUsers = 25 
**.numBBrouter = 5
**.numArouters = 25
repeat = 30

[Config ISDN09]
**.dataRate = 64 kbps
**.numUsers = 125 
**.numBBrouter = 5
**.numArouters = 25
repeat = 30

[Config ISDN10]
**.dataRate = 64 kbps
**.numUsers = 625 
**.numBBrouter = 5
**.numArouters = 25
repeat = 30


[Config DSL01]
**.dataRate = 2 Mbps
**.numUsers = 25 
**.numBBrouter = 1
**.numArouters = 5
repeat = 10

[Config DSL02]
**.dataRate = 2 Mbps
**.numUsers = 125 
**.numBBrouter = 1
**.numArouters = 5
repeat = 10

[Config DSL03]
**.dataRate = 2 Mbps
**.numUsers = 25 
**.numBBrouter = 5
**.numArouters = 25
repeat = 10

[Config DSL04]
**.dataRate = 2 Mbps
**.numUsers = 125 
**.numBBrouter = 5
**.numArouters = 25
repeat = 10

[Config DSL05]
**.dataRate = 2 Mbps
**.numUsers = 625 
**.numBBrouter = 5
**.numArouters = 25
repeat = 10

[Config DSL06]
**.dataRate = 2 Mbps
**.numUsers = 25 
**.numBBrouter = 1
**.numArouters = 5
repeat = 30

[Config DSL07]
**.dataRate = 2 Mbps
**.numUsers = 125 
**.numBBrouter = 1
**.numArouters = 5
repeat = 30

[Config DSL08]
**.dataRate = 2 Mbps
**.numUsers = 25 
**.numBBrouter = 5
**.numArouters = 25
repeat = 30

[Config DSL09]
**.dataRate = 2 Mbps
**.numUsers = 125 
**.numBBrouter = 5
**.numArouters = 25
repeat = 30

[Config DSL10]
**.dataRate = 2 Mbps
**.numUsers = 625 
**.numBBrouter = 5
**.numArouters = 25
repeat = 30